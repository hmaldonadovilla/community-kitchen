// Auto-generated by scripts/embed-html-templates.js. Do not edit by hand.
// Contains HTML templates embedded from /docs/templates for template ids like "bundle:<filename>".

export const BUNDLED_HTML_TEMPLATES: Record<string, string> = {
  "checklist_am.summary.html": "<!--\n  Community Kitchen – Storage & Cleaning Checks (Summary HTML Template)\n\n  Notes:\n  - Keep placeholders as plain text tokens like {{FIELD_ID}} (do NOT split tokens across spans).\n  - FILE_UPLOAD icons (HTML-only): {{FILES_ICON(FIELD_ID)}} opens the read-only Files overlay in-app.\n  - This template is designed to be injected into the CK web app (not a standalone web page).\n-->\n\n<style>\n  .ck-summary-template {\n    /* inherit app typography; avoid fixed pt/px sizes so it scales nicely on iOS */\n    color: #0f172a;\n    font-size: 0.94em; /* slightly denser than the app default */\n    margin: -8px; /* counter the preview container padding so more content fits */\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-summary-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-meta-grid {\n    display: grid;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n    gap: 8px;\n    margin-bottom: 10px;\n  }\n\n  .ck-meta {\n    border: 1px solid rgba(148, 163, 184, 0.55);\n    background: rgba(148, 163, 184, 0.1);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-meta-label {\n    font-weight: 800;\n    font-size: 0.7em;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.58);\n    margin-bottom: 4px;\n  }\n\n  .ck-meta-value {\n    font-weight: 900;\n    font-size: 0.9em;\n    color: #0f172a;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-status-pill {\n    display: inline-flex;\n    align-items: center;\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid #cbd5e1;\n    background: #f8fafc;\n    color: #334155;\n    font-weight: 600;\n    font-size: 0.78em;\n    line-height: 1;\n    white-space: nowrap;\n  }\n  .ck-status-pill[data-status-key=\"onClose\"] {\n    border-color: #94a3b8;\n    background: #e2e8f0;\n    color: #334155;\n  }\n  .ck-status-pill[data-status-key=\"reOpened\"] {\n    border-color: #64748b;\n    background: #e5e7eb;\n    color: #1f2937;\n  }\n\n  .ck-divider {\n    border: 0;\n    height: 1px;\n    background: rgba(148, 163, 184, 0.55);\n    margin: 10px 0;\n  }\n\n  .ck-section-title {\n    margin: 0 0 8px 0;\n    font-weight: 800;\n    font-size: 0.88em;\n    letter-spacing: 0.06em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.72);\n  }\n\n  .ck-subtitle {\n    margin: 10px 0 8px 0;\n    font-weight: 900;\n    font-size: 0.98em;\n    color: #0f172a;\n  }\n\n  .ck-checklist {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If a checklist has an odd number of items, make the last card span full width */\n  .ck-checklist > .ck-check:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-check {\n    border: 1px solid rgba(15, 23, 42, 0.1);\n    background: rgba(118, 118, 128, 0.06);\n    border-radius: 12px;\n    padding: 8px 10px;\n    display: flex;\n    align-items: flex-start;\n    gap: 8px;\n    min-width: 0;\n  }\n\n  .ck-mark {\n    flex: 0 0 auto;\n    width: 1.6em;\n    text-align: center;\n    font-weight: 900;\n    line-height: 1.2;\n    font-size: 1.05em;\n  }\n\n  .ck-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    font-weight: 700;\n    line-height: 1.2;\n    color: rgba(15, 23, 42, 0.92);\n    white-space: normal;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-right {\n    flex: 0 0 auto;\n    margin-left: auto;\n    display: inline-flex;\n    align-items: center;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-right:empty {\n    display: none;\n  }\n\n  .ck-muted {\n    color: rgba(15, 23, 42, 0.55);\n    font-weight: 700;\n  }\n\n  .ck-callouts {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If there is only one callout, let it span full width */\n  .ck-callouts > .ck-callout:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-callout {\n    border: 1px solid rgba(251, 146, 60, 0.55);\n    background: rgba(251, 146, 60, 0.10);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-callout-title {\n    font-weight: 900;\n    font-size: 0.82em;\n    margin-bottom: 4px;\n  }\n\n  .ck-callout-body {\n    font-weight: 700;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n  }\n\n  .ck-callout-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-callout-icon {\n    flex: 0 0 auto;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-callout-icon:empty {\n    display: none;\n  }\n\n  /* Make FILES_ICON buttons larger and easier to tap */\n  .ck-summary-template .ck-file-icon {\n    padding: 12px 14px !important;\n    border-radius: 16px !important;\n    font-size: 22px !important;\n    line-height: 1 !important;\n  }\n\n  /* Larger badge for visibility */\n  .ck-summary-template .ck-file-icon__badge {\n    min-width: 28px !important;\n    height: 28px !important;\n    padding: 0 8px !important;\n    font-size: 15px !important;\n  }\n\n  /* Ultra-narrow devices: stack a bit to avoid unreadably tiny columns */\n  @media (max-width: 330px) {\n    .ck-meta-grid {\n      grid-template-columns: 1fr 1fr;\n    }\n    .ck-callouts {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  /* Consolidated \"Issues\" callout (Previous + Current shift in one card) */\n  .ck-issues-card {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .ck-issues-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .ck-issues-title {\n    font-weight: 950;\n    font-size: 1.02em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-status-icon {\n    margin-left: auto;\n    font-size: 1.25em;\n    line-height: 1;\n  }\n\n  .ck-issues-empty {\n    display: none;\n    align-items: center;\n    gap: 10px;\n    font-weight: 900;\n  }\n\n  .ck-issues-row {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .ck-issues-subtitle {\n    font-weight: 900;\n    font-size: 0.9em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-body {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n    font-weight: 750;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    padding-left: 12px;\n    border-left: 3px solid rgba(15, 23, 42, 0.12);\n  }\n\n  .ck-issues-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-issues-sep {\n    flex: 0 0 auto;\n    color: rgba(15, 23, 42, 0.38);\n    font-weight: 900;\n  }\n\n  .ck-issues-icon {\n    flex: 0 0 auto;\n  }\n\n  .ck-issues-icon:empty {\n    display: none;\n  }\n\n  .ck-issues-divider {\n    border: 0;\n    height: 1px;\n    background: rgba(15, 23, 42, 0.12);\n    margin: 0;\n  }\n\n  .ck-callout.ck-issues--ok {\n    border-color: rgba(34, 197, 94, 0.55);\n    background: rgba(34, 197, 94, 0.12);\n  }\n\n  .ck-callout.ck-issues--warn {\n    border-color: rgba(245, 158, 11, 0.7);\n    background: rgba(245, 158, 11, 0.14);\n  }\n</style>\n\n<div class=\"ck-summary-template\">\n  <div class=\"ck-meta-grid\">\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Check frequency</div>\n      <div class=\"ck-meta-value\">{{CHECK_FREQ}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Date</div>\n      <div class=\"ck-meta-value\">{{DATE}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Responsible</div>\n      <div class=\"ck-meta-value\">{{COOK}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Status</div>\n      <div class=\"ck-meta-value\">\n        <span class=\"ck-status-pill\" data-status-key=\"{{STATUS_KEY}}\">{{DEFAULT(STATUS, \"—\")}}</span>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"ck-callouts\">\n    <div class=\"ck-callout ck-issues-card ck-issues--warn\" data-ck-issues-card>\n      <div class=\"ck-issues-header\">\n        <div class=\"ck-issues-title\">Issues</div>\n        <div class=\"ck-issues-status-icon\" data-ck-issues-icon aria-hidden=\"true\">⚠️</div>\n      </div>\n\n      <div class=\"ck-issues-empty\" data-ck-issues-empty>\n        <span aria-hidden=\"true\">✅</span>\n        <span>No issues</span>\n      </div>\n\n      <div class=\"ck-issues-row\" data-ck-issues-prev-row>\n        <div class=\"ck-issues-subtitle\"><strong>Previous shift:</strong></div>\n        <div class=\"ck-issues-body\">\n          <span class=\"ck-issues-text\" data-ck-issues-prev-text>{{DEFAULT(ISSUES_PREV, \"No issues\")}}</span>\n          <span class=\"ck-issues-sep\" data-ck-issues-prev-sep aria-hidden=\"true\">|</span>\n          <span class=\"ck-issues-icon\" data-ck-issues-prev-icon>{{FILES_ICON(ISSUES_PREV_EVD)}}</span>\n        </div>\n      </div>\n\n      <hr class=\"ck-issues-divider\" data-ck-issues-divider />\n\n      <div class=\"ck-issues-row\" data-ck-issues-current-row>\n        <div class=\"ck-issues-subtitle\"><strong>Current shift:</strong></div>\n        <div class=\"ck-issues-body\">\n          <span class=\"ck-issues-text\" data-ck-issues-current-text>{{DEFAULT(ISSUES, \"No issues\")}}</span>\n          <span class=\"ck-issues-sep\" data-ck-issues-current-sep aria-hidden=\"true\">|</span>\n          <span class=\"ck-issues-icon\" data-ck-issues-current-icon>{{FILES_ICON(ISSUES_EVD)}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    (function () {\n      try {\n        var card = document.querySelector('[data-ck-issues-card]');\n        if (!card) return;\n        if (card.getAttribute('data-ck-issues-init') === '1') return;\n        card.setAttribute('data-ck-issues-init', '1');\n\n        var normalize = function (s) {\n          return (s || '').toString().trim().toLowerCase().replace(/\\s+/g, ' ');\n        };\n        var isNoIssues = function (s) {\n          var t = normalize(s);\n          return t === '' || t === 'no issues' || t === 'no issue';\n        };\n\n        var prevTextEl = card.querySelector('[data-ck-issues-prev-text]');\n        var currentTextEl = card.querySelector('[data-ck-issues-current-text]');\n        var prevEmpty = isNoIssues(prevTextEl ? prevTextEl.textContent : '');\n        var currentEmpty = isNoIssues(currentTextEl ? currentTextEl.textContent : '');\n\n        var prevRow = card.querySelector('[data-ck-issues-prev-row]');\n        var currentRow = card.querySelector('[data-ck-issues-current-row]');\n        if (prevRow && prevEmpty) prevRow.style.display = 'none';\n        if (currentRow && currentEmpty) currentRow.style.display = 'none';\n\n        var divider = card.querySelector('[data-ck-issues-divider]');\n        if (divider) divider.style.display = prevEmpty || currentEmpty ? 'none' : 'block';\n\n        var hasIcon = function (el) {\n          if (!el) return false;\n          if (el.children && el.children.length) return true;\n          return normalize(el.textContent) !== '';\n        };\n        var prevIcon = card.querySelector('[data-ck-issues-prev-icon]');\n        var prevSep = card.querySelector('[data-ck-issues-prev-sep]');\n        if (prevSep) prevSep.style.display = hasIcon(prevIcon) ? 'inline' : 'none';\n        var currentIcon = card.querySelector('[data-ck-issues-current-icon]');\n        var currentSep = card.querySelector('[data-ck-issues-current-sep]');\n        if (currentSep) currentSep.style.display = hasIcon(currentIcon) ? 'inline' : 'none';\n\n        var emptyBlock = card.querySelector('[data-ck-issues-empty]');\n        var icon = card.querySelector('[data-ck-issues-icon]');\n        if (prevEmpty && currentEmpty) {\n          if (emptyBlock) emptyBlock.style.display = 'flex';\n          if (icon) icon.textContent = '✅';\n          card.classList.add('ck-issues--ok');\n          card.classList.remove('ck-issues--warn');\n        } else {\n          if (emptyBlock) emptyBlock.style.display = 'none';\n          if (icon) icon.textContent = '⚠️';\n          card.classList.add('ck-issues--warn');\n          card.classList.remove('ck-issues--ok');\n        }\n      } catch (e) {\n        // ignore\n      }\n    })();\n  </script>\n\n  <hr class=\"ck-divider\" />\n\n  <div class=\"ck-section-title\">Storage</div>\n\n  <div class=\"ck-subtitle\">Fridges</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{FRIDGE_TEMP}}</span>\n      <span class=\"ck-text\">Fridge temp (0-7&deg;C)</span>\n      <span class=\"ck-right\">{{FILES_ICON(FRIDGE_TEMP_PHOTO)}}</span>\n    </li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_LBD}}</span><span class=\"ck-text\">All items covered &amp; dated</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_NBO}}</span><span class=\"ck-text\">No bad odour</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_FIF}}</span><span class=\"ck-text\">FIFO respected</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_48H}}</span><span class=\"ck-text\">&gt;48h and expired items discarded</span></li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Freezers</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{FREEZER_TEMP}}</span>\n      <span class=\"ck-text\">Freezer temp (≤ -12&deg;C)</span>\n      <span class=\"ck-right\">{{FILES_ICON(FREEZER_TEMP_PHOTO)}}</span>\n    </li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_FDS}}</span><span class=\"ck-text\">Food fully frozen (solid)</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_PKI}}</span><span class=\"ck-text\">Packaging intact</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_FIF}}</span><span class=\"ck-text\">FIFO respected (freezer)</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_NEI}}</span><span class=\"ck-text\">Expired items discarded</span></li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Vegetables</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRESH_VEGGIES}}</span><span class=\"ck-text\">Molded and spoiled vegetables discarded</span></li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Dry foods</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{DRY_EXP}}</span><span class=\"ck-text\">Expired dry food discarded</span></li>\n  </ul>\n\n  <hr class=\"ck-divider\" />\n\n  <div class=\"ck-section-title\">Cleanliness</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_STV}}</span><span class=\"ck-text\">Stove / cooktop clean</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_CNT}}</span><span class=\"ck-text\">Countertops clean &amp; disinfected</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_FLR}}</span><span class=\"ck-text\">Floor clean</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_OVN}}</span><span class=\"ck-text\">Oven clean &amp; empty</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_DSH}}</span><span class=\"ck-text\">Dishwasher empty</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_NDD}}</span><span class=\"ck-text\">No dirty dishes left</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_BET}}</span><span class=\"ck-text\">Bins emptied</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_BLR}}</span><span class=\"ck-text\">Bin liners replaced</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_BCN}}</span><span class=\"ck-text\">Bins clean (no odour)</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_PEST}}</span><span class=\"ck-text\">Pest control and traps checked</span></li>\n  </ul>\n</div>\n\n",
  "checklist_monthly.summary.html": "<!--\n  Community Kitchen – Storage & Cleaning Checks (Summary HTML Template)\n\n  Notes:\n  - Keep placeholders as plain text tokens like {{FIELD_ID}} (do NOT split tokens across spans).\n  - FILE_UPLOAD icons (HTML-only): {{FILES_ICON(FIELD_ID)}} opens the read-only Files overlay in-app.\n  - This template is designed to be injected into the CK web app (not a standalone web page).\n-->\n\n<style>\n  .ck-summary-template {\n    /* inherit app typography; avoid fixed pt/px sizes so it scales nicely on iOS */\n    color: #0f172a;\n    font-size: 0.94em; /* slightly denser than the app default */\n    margin: -8px; /* counter the preview container padding so more content fits */\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-summary-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-meta-grid {\n    display: grid;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n    gap: 8px;\n    margin-bottom: 10px;\n  }\n\n  .ck-meta {\n    border: 1px solid rgba(148, 163, 184, 0.55);\n    background: rgba(148, 163, 184, 0.1);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-meta-label {\n    font-weight: 800;\n    font-size: 0.7em;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.58);\n    margin-bottom: 4px;\n  }\n\n  .ck-meta-value {\n    font-weight: 900;\n    font-size: 0.9em;\n    color: #0f172a;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-status-pill {\n    display: inline-flex;\n    align-items: center;\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid #cbd5e1;\n    background: #f8fafc;\n    color: #334155;\n    font-weight: 600;\n    font-size: 0.78em;\n    line-height: 1;\n    white-space: nowrap;\n  }\n  .ck-status-pill[data-status-key=\"onClose\"] {\n    border-color: #94a3b8;\n    background: #e2e8f0;\n    color: #334155;\n  }\n  .ck-status-pill[data-status-key=\"reOpened\"] {\n    border-color: #64748b;\n    background: #e5e7eb;\n    color: #1f2937;\n  }\n\n  .ck-divider {\n    border: 0;\n    height: 1px;\n    background: rgba(148, 163, 184, 0.55);\n    margin: 10px 0;\n  }\n\n  .ck-section-title {\n    margin: 0 0 8px 0;\n    font-weight: 800;\n    font-size: 0.88em;\n    letter-spacing: 0.06em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.72);\n  }\n\n  .ck-subtitle {\n    margin: 10px 0 8px 0;\n    font-weight: 900;\n    font-size: 0.98em;\n    color: #0f172a;\n  }\n\n  .ck-checklist {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If a checklist has an odd number of items, make the last card span full width */\n  .ck-checklist > .ck-check:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-check {\n    border: 1px solid rgba(15, 23, 42, 0.1);\n    background: rgba(118, 118, 128, 0.06);\n    border-radius: 12px;\n    padding: 8px 10px;\n    display: flex;\n    align-items: flex-start;\n    gap: 8px;\n    min-width: 0;\n  }\n\n  .ck-mark {\n    flex: 0 0 auto;\n    width: 1.6em;\n    text-align: center;\n    font-weight: 900;\n    line-height: 1.2;\n    font-size: 1.05em;\n  }\n\n  .ck-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    font-weight: 700;\n    line-height: 1.2;\n    color: rgba(15, 23, 42, 0.92);\n    white-space: normal;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-right {\n    flex: 0 0 auto;\n    margin-left: auto;\n    display: inline-flex;\n    align-items: center;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-right:empty {\n    display: none;\n  }\n\n  .ck-muted {\n    color: rgba(15, 23, 42, 0.55);\n    font-weight: 700;\n  }\n\n  .ck-callouts {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If there is only one callout, let it span full width */\n  .ck-callouts > .ck-callout:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-callout {\n    border: 1px solid rgba(251, 146, 60, 0.55);\n    background: rgba(251, 146, 60, 0.10);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-callout-title {\n    font-weight: 900;\n    font-size: 0.82em;\n    margin-bottom: 4px;\n  }\n\n  .ck-callout-body {\n    font-weight: 700;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n  }\n\n  .ck-callout-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-callout-icon {\n    flex: 0 0 auto;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-callout-icon:empty {\n    display: none;\n  }\n\n  /* Make FILES_ICON buttons larger and easier to tap */\n  .ck-summary-template .ck-file-icon {\n    padding: 12px 14px !important;\n    border-radius: 16px !important;\n    font-size: 22px !important;\n    line-height: 1 !important;\n  }\n\n  /* Larger badge for visibility */\n  .ck-summary-template .ck-file-icon__badge {\n    min-width: 28px !important;\n    height: 28px !important;\n    padding: 0 8px !important;\n    font-size: 15px !important;\n  }\n\n  /* Ultra-narrow devices: stack a bit to avoid unreadably tiny columns */\n  @media (max-width: 330px) {\n    .ck-meta-grid {\n      grid-template-columns: 1fr 1fr;\n    }\n    .ck-callouts {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  /* \"Issues\" callout (single field: ISSUES + ISSUES_EVD) */\n  .ck-issues-card {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .ck-issues-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .ck-issues-title {\n    font-weight: 950;\n    font-size: 1.02em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-status-icon {\n    margin-left: auto;\n    font-size: 1.25em;\n    line-height: 1;\n  }\n\n  .ck-issues-empty {\n    display: none;\n    align-items: center;\n    gap: 10px;\n    font-weight: 900;\n  }\n\n  .ck-issues-row {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .ck-issues-subtitle {\n    font-weight: 900;\n    font-size: 0.9em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-body {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n    font-weight: 750;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    padding-left: 12px;\n    border-left: 3px solid rgba(15, 23, 42, 0.12);\n  }\n\n  .ck-issues-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-issues-sep {\n    flex: 0 0 auto;\n    color: rgba(15, 23, 42, 0.38);\n    font-weight: 900;\n  }\n\n  .ck-issues-icon {\n    flex: 0 0 auto;\n  }\n\n  .ck-issues-icon:empty {\n    display: none;\n  }\n\n  .ck-callout.ck-issues--ok {\n    border-color: rgba(34, 197, 94, 0.55);\n    background: rgba(34, 197, 94, 0.12);\n  }\n\n  .ck-callout.ck-issues--warn {\n    border-color: rgba(245, 158, 11, 0.7);\n    background: rgba(245, 158, 11, 0.14);\n  }\n</style>\n\n<div class=\"ck-summary-template\">\n  <div class=\"ck-meta-grid\">\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Check frequency</div>\n      <div class=\"ck-meta-value\">{{CHECK_FREQ}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Date</div>\n      <div class=\"ck-meta-value\">{{DATE}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Responsible</div>\n      <div class=\"ck-meta-value\">{{COOK}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Status</div>\n      <div class=\"ck-meta-value\">\n        <span class=\"ck-status-pill\" data-status-key=\"{{STATUS_KEY}}\">{{DEFAULT(STATUS, \"—\")}}</span>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"ck-callouts\">\n    <div class=\"ck-callout ck-issues-card ck-issues--warn\" data-ck-issues-card>\n      <div class=\"ck-issues-header\">\n        <div class=\"ck-issues-title\">Issues</div>\n        <div class=\"ck-issues-status-icon\" data-ck-issues-icon aria-hidden=\"true\">⚠️</div>\n      </div>\n\n      <div class=\"ck-issues-empty\" data-ck-issues-empty>\n        <span aria-hidden=\"true\">✅</span>\n        <span>No issues</span>\n      </div>\n\n      <div class=\"ck-issues-row\" data-ck-issues-row>\n        <div class=\"ck-issues-subtitle\"><strong>Issues reported:</strong></div>\n        <div class=\"ck-issues-body\">\n          <span class=\"ck-issues-text\" data-ck-issues-text>{{DEFAULT(ISSUES, \"No issues\")}}</span>\n          <span class=\"ck-issues-sep\" data-ck-issues-sep aria-hidden=\"true\">|</span>\n          <span class=\"ck-issues-icon\" data-ck-issues-file-icon>{{FILES_ICON(ISSUES_EVD)}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    (function () {\n      try {\n        var card = document.querySelector('[data-ck-issues-card]');\n        if (!card) return;\n        if (card.getAttribute('data-ck-issues-init') === '1') return;\n        card.setAttribute('data-ck-issues-init', '1');\n\n        var normalize = function (s) {\n          return (s || '').toString().trim().toLowerCase().replace(/\\s+/g, ' ');\n        };\n        var isNoIssues = function (s) {\n          var t = normalize(s);\n          return t === '' || t === 'no issues' || t === 'no issue';\n        };\n\n        var textEl = card.querySelector('[data-ck-issues-text]');\n        var empty = isNoIssues(textEl ? textEl.textContent : '');\n\n        var row = card.querySelector('[data-ck-issues-row]');\n        if (row && empty) row.style.display = 'none';\n\n        var emptyBlock = card.querySelector('[data-ck-issues-empty]');\n        var statusIcon = card.querySelector('[data-ck-issues-icon]');\n        if (empty) {\n          if (emptyBlock) emptyBlock.style.display = 'flex';\n          if (statusIcon) statusIcon.textContent = '✅';\n          card.classList.add('ck-issues--ok');\n          card.classList.remove('ck-issues--warn');\n        } else {\n          if (emptyBlock) emptyBlock.style.display = 'none';\n          if (statusIcon) statusIcon.textContent = '⚠️';\n          card.classList.add('ck-issues--warn');\n          card.classList.remove('ck-issues--ok');\n        }\n\n        var hasIcon = function (el) {\n          if (!el) return false;\n          if (el.children && el.children.length) return true;\n          return normalize(el.textContent) !== '';\n        };\n        var fileIcon = card.querySelector('[data-ck-issues-file-icon]');\n        var sep = card.querySelector('[data-ck-issues-sep]');\n        if (sep) sep.style.display = !empty && hasIcon(fileIcon) ? 'inline' : 'none';\n      } catch (e) {\n        // ignore\n      }\n    })();\n  </script>\n\n  <hr class=\"ck-divider\" />\n\n  <div class=\"ck-section-title\">Checks</div>\n\n  <div class=\"ck-subtitle\">Kitchen cleaning</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{MH_OVEN}}</span>\n      <span class=\"ck-text\">Oven deep cleaning</span>\n      <span class=\"ck-right\">{{FILES_ICON(MH_OVEN_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{MH_EXH_DEEP}}</span>\n      <span class=\"ck-text\">Exhaust hood deep cleaned</span>\n      <span class=\"ck-right\">{{FILES_ICON(MH_EXH_DEEP_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{MH_DISH}}</span>\n      <span class=\"ck-text\">Dishwasher filter cleaned</span>\n      <span class=\"ck-right\">{{FILES_ICON(MH_DISH_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{MH_EXTR}}</span>\n      <span class=\"ck-text\">Extractor hood / filters cleaned</span>\n      <span class=\"ck-right\">{{FILES_ICON(MH_EXTR_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{MH_FRIDGE}}</span>\n      <span class=\"ck-text\">Fridge door seals cleaned & checked</span>\n      <span class=\"ck-right\">{{FILES_ICON(MH_FRIDGE_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{MH_FREEZER}}</span>\n      <span class=\"ck-text\">Freezer door seals cleaned & checked</span>\n      <span class=\"ck-right\">{{FILES_ICON(MH_FREEZER_PH)}}</span>\n    </li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Storage inspection</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{MH_DRY}}</span><span class=\"ck-text\">Dry storage inspected</span></li>\n  </ul>\n</div>\n\n",
  "checklist_pm.summary.html": "<!--\n  Community Kitchen – Storage & Cleaning Checks (Summary HTML Template)\n\n  Notes:\n  - Keep placeholders as plain text tokens like {{FIELD_ID}} (do NOT split tokens across spans).\n  - FILE_UPLOAD icons (HTML-only): {{FILES_ICON(FIELD_ID)}} opens the read-only Files overlay in-app.\n  - This template is designed to be injected into the CK web app (not a standalone web page).\n-->\n\n<style>\n  .ck-summary-template {\n    /* inherit app typography; avoid fixed pt/px sizes so it scales nicely on iOS */\n    color: #0f172a;\n    font-size: 0.94em; /* slightly denser than the app default */\n    margin: -8px; /* counter the preview container padding so more content fits */\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-summary-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-meta-grid {\n    display: grid;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n    gap: 8px;\n    margin-bottom: 10px;\n  }\n\n  .ck-meta {\n    border: 1px solid rgba(148, 163, 184, 0.55);\n    background: rgba(148, 163, 184, 0.1);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-meta-label {\n    font-weight: 800;\n    font-size: 0.7em;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.58);\n    margin-bottom: 4px;\n  }\n\n  .ck-meta-value {\n    font-weight: 900;\n    font-size: 0.9em;\n    color: #0f172a;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-status-pill {\n    display: inline-flex;\n    align-items: center;\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid #cbd5e1;\n    background: #f8fafc;\n    color: #334155;\n    font-weight: 600;\n    font-size: 0.78em;\n    line-height: 1;\n    white-space: nowrap;\n  }\n  .ck-status-pill[data-status-key=\"onClose\"] {\n    border-color: #94a3b8;\n    background: #e2e8f0;\n    color: #334155;\n  }\n  .ck-status-pill[data-status-key=\"reOpened\"] {\n    border-color: #64748b;\n    background: #e5e7eb;\n    color: #1f2937;\n  }\n\n  .ck-divider {\n    border: 0;\n    height: 1px;\n    background: rgba(148, 163, 184, 0.55);\n    margin: 10px 0;\n  }\n\n  .ck-section-title {\n    margin: 0 0 8px 0;\n    font-weight: 800;\n    font-size: 0.88em;\n    letter-spacing: 0.06em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.72);\n  }\n\n  .ck-subtitle {\n    margin: 10px 0 8px 0;\n    font-weight: 900;\n    font-size: 0.98em;\n    color: #0f172a;\n  }\n\n  .ck-checklist {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If a checklist has an odd number of items, make the last card span full width */\n  .ck-checklist > .ck-check:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-check {\n    border: 1px solid rgba(15, 23, 42, 0.1);\n    background: rgba(118, 118, 128, 0.06);\n    border-radius: 12px;\n    padding: 8px 10px;\n    display: flex;\n    align-items: flex-start;\n    gap: 8px;\n    min-width: 0;\n  }\n\n  .ck-mark {\n    flex: 0 0 auto;\n    width: 1.6em;\n    text-align: center;\n    font-weight: 900;\n    line-height: 1.2;\n    font-size: 1.05em;\n  }\n\n  .ck-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    font-weight: 700;\n    line-height: 1.2;\n    color: rgba(15, 23, 42, 0.92);\n    white-space: normal;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-right {\n    flex: 0 0 auto;\n    margin-left: auto;\n    display: inline-flex;\n    align-items: center;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-right:empty {\n    display: none;\n  }\n\n  .ck-muted {\n    color: rgba(15, 23, 42, 0.55);\n    font-weight: 700;\n  }\n\n  .ck-callouts {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If there is only one callout, let it span full width */\n  .ck-callouts > .ck-callout:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-callout {\n    border: 1px solid rgba(251, 146, 60, 0.55);\n    background: rgba(251, 146, 60, 0.10);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-callout-title {\n    font-weight: 900;\n    font-size: 0.82em;\n    margin-bottom: 4px;\n  }\n\n  .ck-callout-body {\n    font-weight: 700;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n  }\n\n  .ck-callout-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-callout-icon {\n    flex: 0 0 auto;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-callout-icon:empty {\n    display: none;\n  }\n\n  /* Make FILES_ICON buttons larger and easier to tap */\n  .ck-summary-template .ck-file-icon {\n    padding: 12px 14px !important;\n    border-radius: 16px !important;\n    font-size: 22px !important;\n    line-height: 1 !important;\n  }\n\n  /* Larger badge for visibility */\n  .ck-summary-template .ck-file-icon__badge {\n    min-width: 28px !important;\n    height: 28px !important;\n    padding: 0 8px !important;\n    font-size: 15px !important;\n  }\n\n  /* Ultra-narrow devices: stack a bit to avoid unreadably tiny columns */\n  @media (max-width: 330px) {\n    .ck-meta-grid {\n      grid-template-columns: 1fr 1fr;\n    }\n    .ck-callouts {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  /* Consolidated \"Issues\" callout (Previous + Current shift in one card) */\n  .ck-issues-card {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .ck-issues-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .ck-issues-title {\n    font-weight: 950;\n    font-size: 1.02em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-status-icon {\n    margin-left: auto;\n    font-size: 1.25em;\n    line-height: 1;\n  }\n\n  .ck-issues-empty {\n    display: none;\n    align-items: center;\n    gap: 10px;\n    font-weight: 900;\n  }\n\n  .ck-issues-row {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .ck-issues-subtitle {\n    font-weight: 900;\n    font-size: 0.9em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-body {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n    font-weight: 750;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    padding-left: 12px;\n    border-left: 3px solid rgba(15, 23, 42, 0.12);\n  }\n\n  .ck-issues-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-issues-sep {\n    flex: 0 0 auto;\n    color: rgba(15, 23, 42, 0.38);\n    font-weight: 900;\n  }\n\n  .ck-issues-icon {\n    flex: 0 0 auto;\n  }\n\n  .ck-issues-icon:empty {\n    display: none;\n  }\n\n  .ck-issues-divider {\n    border: 0;\n    height: 1px;\n    background: rgba(15, 23, 42, 0.12);\n    margin: 0;\n  }\n\n  .ck-callout.ck-issues--ok {\n    border-color: rgba(34, 197, 94, 0.55);\n    background: rgba(34, 197, 94, 0.12);\n  }\n\n  .ck-callout.ck-issues--warn {\n    border-color: rgba(245, 158, 11, 0.7);\n    background: rgba(245, 158, 11, 0.14);\n  }\n</style>\n\n<div class=\"ck-summary-template\">\n  <div class=\"ck-meta-grid\">\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Check frequency</div>\n      <div class=\"ck-meta-value\">{{CHECK_FREQ}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Date</div>\n      <div class=\"ck-meta-value\">{{DATE}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Responsible</div>\n      <div class=\"ck-meta-value\">{{COOK}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Status</div>\n      <div class=\"ck-meta-value\">\n        <span class=\"ck-status-pill\" data-status-key=\"{{STATUS_KEY}}\">{{DEFAULT(STATUS, \"—\")}}</span>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"ck-callouts\">\n    <div class=\"ck-callout ck-issues-card ck-issues--warn\" data-ck-issues-card>\n      <div class=\"ck-issues-header\">\n        <div class=\"ck-issues-title\">Issues</div>\n        <div class=\"ck-issues-status-icon\" data-ck-issues-icon aria-hidden=\"true\">⚠️</div>\n      </div>\n\n      <div class=\"ck-issues-empty\" data-ck-issues-empty>\n        <span aria-hidden=\"true\">✅</span>\n        <span>No issues</span>\n      </div>\n\n      <div class=\"ck-issues-row\" data-ck-issues-prev-row>\n        <div class=\"ck-issues-subtitle\"><strong>Previous shift:</strong></div>\n        <div class=\"ck-issues-body\">\n          <span class=\"ck-issues-text\" data-ck-issues-prev-text>{{DEFAULT(ISSUES_PREV, \"No issues\")}}</span>\n          <span class=\"ck-issues-sep\" data-ck-issues-prev-sep aria-hidden=\"true\">|</span>\n          <span class=\"ck-issues-icon\" data-ck-issues-prev-icon>{{FILES_ICON(ISSUES_PREV_EVD)}}</span>\n        </div>\n      </div>\n\n      <hr class=\"ck-issues-divider\" data-ck-issues-divider />\n\n      <div class=\"ck-issues-row\" data-ck-issues-current-row>\n        <div class=\"ck-issues-subtitle\"><strong>Current shift:</strong></div>\n        <div class=\"ck-issues-body\">\n          <span class=\"ck-issues-text\" data-ck-issues-current-text>{{DEFAULT(ISSUES, \"No issues\")}}</span>\n          <span class=\"ck-issues-sep\" data-ck-issues-current-sep aria-hidden=\"true\">|</span>\n          <span class=\"ck-issues-icon\" data-ck-issues-current-icon>{{FILES_ICON(ISSUES_EVD)}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    (function () {\n      try {\n        var card = document.querySelector('[data-ck-issues-card]');\n        if (!card) return;\n        if (card.getAttribute('data-ck-issues-init') === '1') return;\n        card.setAttribute('data-ck-issues-init', '1');\n\n        var normalize = function (s) {\n          return (s || '').toString().trim().toLowerCase().replace(/\\s+/g, ' ');\n        };\n        var isNoIssues = function (s) {\n          var t = normalize(s);\n          return t === '' || t === 'no issues' || t === 'no issue';\n        };\n\n        var prevTextEl = card.querySelector('[data-ck-issues-prev-text]');\n        var currentTextEl = card.querySelector('[data-ck-issues-current-text]');\n        var prevEmpty = isNoIssues(prevTextEl ? prevTextEl.textContent : '');\n        var currentEmpty = isNoIssues(currentTextEl ? currentTextEl.textContent : '');\n\n        var prevRow = card.querySelector('[data-ck-issues-prev-row]');\n        var currentRow = card.querySelector('[data-ck-issues-current-row]');\n        if (prevRow && prevEmpty) prevRow.style.display = 'none';\n        if (currentRow && currentEmpty) currentRow.style.display = 'none';\n\n        var divider = card.querySelector('[data-ck-issues-divider]');\n        if (divider) divider.style.display = prevEmpty || currentEmpty ? 'none' : 'block';\n\n        var hasIcon = function (el) {\n          if (!el) return false;\n          if (el.children && el.children.length) return true;\n          return normalize(el.textContent) !== '';\n        };\n        var prevIcon = card.querySelector('[data-ck-issues-prev-icon]');\n        var prevSep = card.querySelector('[data-ck-issues-prev-sep]');\n        if (prevSep) prevSep.style.display = hasIcon(prevIcon) ? 'inline' : 'none';\n        var currentIcon = card.querySelector('[data-ck-issues-current-icon]');\n        var currentSep = card.querySelector('[data-ck-issues-current-sep]');\n        if (currentSep) currentSep.style.display = hasIcon(currentIcon) ? 'inline' : 'none';\n\n        var emptyBlock = card.querySelector('[data-ck-issues-empty]');\n        var icon = card.querySelector('[data-ck-issues-icon]');\n        if (prevEmpty && currentEmpty) {\n          if (emptyBlock) emptyBlock.style.display = 'flex';\n          if (icon) icon.textContent = '✅';\n          card.classList.add('ck-issues--ok');\n          card.classList.remove('ck-issues--warn');\n        } else {\n          if (emptyBlock) emptyBlock.style.display = 'none';\n          if (icon) icon.textContent = '⚠️';\n          card.classList.add('ck-issues--warn');\n          card.classList.remove('ck-issues--ok');\n        }\n      } catch (e) {\n        // ignore\n      }\n    })();\n  </script>\n\n  <hr class=\"ck-divider\" />\n\n  <div class=\"ck-section-title\">Storage</div>\n\n  <div class=\"ck-subtitle\">Fridges</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{FRIDGE_TEMP}}</span>\n      <span class=\"ck-text\">Fridge temp (0-7&deg;C)</span>\n      <span class=\"ck-right\">{{FILES_ICON(FRIDGE_TEMP_PHOTO)}}</span>\n    </li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_LBD}}</span><span class=\"ck-text\">All items covered &amp; dated</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_NBO}}</span><span class=\"ck-text\">No bad odour</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_FIF}}</span><span class=\"ck-text\">FIFO respected</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRIDGE_48H}}</span><span class=\"ck-text\">&gt;48h and expired items discarded</span></li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Freezers</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{FREEZER_TEMP}}</span>\n      <span class=\"ck-text\">Freezer temp (≤ -12&deg;C)</span>\n      <span class=\"ck-right\">{{FILES_ICON(FREEZER_TEMP_PHOTO)}}</span>\n    </li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_FDS}}</span><span class=\"ck-text\">Food fully frozen (solid)</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_PKI}}</span><span class=\"ck-text\">Packaging intact</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_FIF}}</span><span class=\"ck-text\">FIFO respected (freezer)</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FREEZER_NEI}}</span><span class=\"ck-text\">Expired items discarded</span></li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Vegetables</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{FRESH_VEGGIES}}</span><span class=\"ck-text\">Molded and spoiled vegetables discarded</span></li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Dry foods</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{DRY_EXP}}</span><span class=\"ck-text\">Expired dry food discarded</span></li>\n  </ul>\n\n  <hr class=\"ck-divider\" />\n\n  <div class=\"ck-section-title\">Cleanliness</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_STV}}</span><span class=\"ck-text\">Stove / cooktop clean</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_CNT}}</span><span class=\"ck-text\">Countertops clean &amp; disinfected</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_FLR}}</span><span class=\"ck-text\">Floor clean</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_OVN}}</span><span class=\"ck-text\">Oven clean &amp; empty</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_DSH}}</span><span class=\"ck-text\">Dishwasher empty</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_NDD}}</span><span class=\"ck-text\">No dirty dishes left</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_BET}}</span><span class=\"ck-text\">Bins emptied</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_BLR}}</span><span class=\"ck-text\">Bin liners replaced</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_BCN}}</span><span class=\"ck-text\">Bins clean (no odour)</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{CLEAN_PEST}}</span><span class=\"ck-text\">Pest control and traps checked</span></li>\n    <li class=\"ck-check\"><span class=\"ck-mark\">{{HYGIENE_PM}}</span><span class=\"ck-text\">Dirty cloth bin emptied</span></li>\n  </ul>\n</div>\n\n",
  "checklist_weekly.summary.html": "<!--\n  Community Kitchen – Storage & Cleaning Checks (Summary HTML Template)\n\n  Notes:\n  - Keep placeholders as plain text tokens like {{FIELD_ID}} (do NOT split tokens across spans).\n  - FILE_UPLOAD icons (HTML-only): {{FILES_ICON(FIELD_ID)}} opens the read-only Files overlay in-app.\n  - This template is designed to be injected into the CK web app (not a standalone web page).\n-->\n\n<style>\n  .ck-summary-template {\n    /* inherit app typography; avoid fixed pt/px sizes so it scales nicely on iOS */\n    color: #0f172a;\n    font-size: 0.94em; /* slightly denser than the app default */\n    margin: -8px; /* counter the preview container padding so more content fits */\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-summary-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-meta-grid {\n    display: grid;\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n    gap: 8px;\n    margin-bottom: 10px;\n  }\n\n  .ck-meta {\n    border: 1px solid rgba(148, 163, 184, 0.55);\n    background: rgba(148, 163, 184, 0.1);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-meta-label {\n    font-weight: 800;\n    font-size: 0.7em;\n    letter-spacing: 0.05em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.58);\n    margin-bottom: 4px;\n  }\n\n  .ck-meta-value {\n    font-weight: 900;\n    font-size: 0.9em;\n    color: #0f172a;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-status-pill {\n    display: inline-flex;\n    align-items: center;\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid #cbd5e1;\n    background: #f8fafc;\n    color: #334155;\n    font-weight: 600;\n    font-size: 0.78em;\n    line-height: 1;\n    white-space: nowrap;\n  }\n  .ck-status-pill[data-status-key=\"onClose\"] {\n    border-color: #94a3b8;\n    background: #e2e8f0;\n    color: #334155;\n  }\n  .ck-status-pill[data-status-key=\"reOpened\"] {\n    border-color: #64748b;\n    background: #e5e7eb;\n    color: #1f2937;\n  }\n\n  .ck-divider {\n    border: 0;\n    height: 1px;\n    background: rgba(148, 163, 184, 0.55);\n    margin: 10px 0;\n  }\n\n  .ck-section-title {\n    margin: 0 0 8px 0;\n    font-weight: 800;\n    font-size: 0.88em;\n    letter-spacing: 0.06em;\n    text-transform: uppercase;\n    color: rgba(15, 23, 42, 0.72);\n  }\n\n  .ck-subtitle {\n    margin: 10px 0 8px 0;\n    font-weight: 900;\n    font-size: 0.98em;\n    color: #0f172a;\n  }\n\n  .ck-checklist {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If a checklist has an odd number of items, make the last card span full width */\n  .ck-checklist > .ck-check:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-check {\n    border: 1px solid rgba(15, 23, 42, 0.1);\n    background: rgba(118, 118, 128, 0.06);\n    border-radius: 12px;\n    padding: 8px 10px;\n    display: flex;\n    align-items: flex-start;\n    gap: 8px;\n    min-width: 0;\n  }\n\n  .ck-mark {\n    flex: 0 0 auto;\n    width: 1.6em;\n    text-align: center;\n    font-weight: 900;\n    line-height: 1.2;\n    font-size: 1.05em;\n  }\n\n  .ck-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    font-weight: 700;\n    line-height: 1.2;\n    color: rgba(15, 23, 42, 0.92);\n    white-space: normal;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-right {\n    flex: 0 0 auto;\n    margin-left: auto;\n    display: inline-flex;\n    align-items: center;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-right:empty {\n    display: none;\n  }\n\n  .ck-muted {\n    color: rgba(15, 23, 42, 0.55);\n    font-weight: 700;\n  }\n\n  .ck-callouts {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    gap: 8px;\n  }\n\n  /* If there is only one callout, let it span full width */\n  .ck-callouts > .ck-callout:last-child:nth-child(odd) {\n    grid-column: 1 / -1;\n  }\n\n  .ck-callout {\n    border: 1px solid rgba(251, 146, 60, 0.55);\n    background: rgba(251, 146, 60, 0.10);\n    border-radius: 12px;\n    padding: 10px 10px;\n    min-width: 0;\n  }\n\n  .ck-callout-title {\n    font-weight: 900;\n    font-size: 0.82em;\n    margin-bottom: 4px;\n  }\n\n  .ck-callout-body {\n    font-weight: 700;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n  }\n\n  .ck-callout-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-callout-icon {\n    flex: 0 0 auto;\n  }\n\n  /* If the FILES_ICON() placeholder renders nothing, don't reserve space */\n  .ck-callout-icon:empty {\n    display: none;\n  }\n\n  /* Make FILES_ICON buttons larger and easier to tap */\n  .ck-summary-template .ck-file-icon {\n    padding: 12px 14px !important;\n    border-radius: 16px !important;\n    font-size: 22px !important;\n    line-height: 1 !important;\n  }\n\n  /* Larger badge for visibility */\n  .ck-summary-template .ck-file-icon__badge {\n    min-width: 28px !important;\n    height: 28px !important;\n    padding: 0 8px !important;\n    font-size: 15px !important;\n  }\n\n  /* Ultra-narrow devices: stack a bit to avoid unreadably tiny columns */\n  @media (max-width: 330px) {\n    .ck-meta-grid {\n      grid-template-columns: 1fr 1fr;\n    }\n    .ck-callouts {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  /* \"Issues\" callout (single field: ISSUES + ISSUES_EVD) */\n  .ck-issues-card {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .ck-issues-header {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .ck-issues-title {\n    font-weight: 950;\n    font-size: 1.02em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-status-icon {\n    margin-left: auto;\n    font-size: 1.25em;\n    line-height: 1;\n  }\n\n  .ck-issues-empty {\n    display: none;\n    align-items: center;\n    gap: 10px;\n    font-weight: 900;\n  }\n\n  .ck-issues-row {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n  }\n\n  .ck-issues-subtitle {\n    font-weight: 900;\n    font-size: 0.9em;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-issues-body {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    flex-wrap: wrap;\n    min-width: 0;\n    font-weight: 750;\n    line-height: 1.15;\n    word-break: break-word;\n    overflow-wrap: anywhere;\n    padding-left: 12px;\n    border-left: 3px solid rgba(15, 23, 42, 0.12);\n  }\n\n  .ck-issues-text {\n    flex: 1 1 auto;\n    min-width: 0;\n    white-space: normal;\n  }\n\n  .ck-issues-sep {\n    flex: 0 0 auto;\n    color: rgba(15, 23, 42, 0.38);\n    font-weight: 900;\n  }\n\n  .ck-issues-icon {\n    flex: 0 0 auto;\n  }\n\n  .ck-issues-icon:empty {\n    display: none;\n  }\n\n  .ck-callout.ck-issues--ok {\n    border-color: rgba(34, 197, 94, 0.55);\n    background: rgba(34, 197, 94, 0.12);\n  }\n\n  .ck-callout.ck-issues--warn {\n    border-color: rgba(245, 158, 11, 0.7);\n    background: rgba(245, 158, 11, 0.14);\n  }\n</style>\n\n<div class=\"ck-summary-template\">\n  <div class=\"ck-meta-grid\">\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Check frequency</div>\n      <div class=\"ck-meta-value\">{{CHECK_FREQ}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Date</div>\n      <div class=\"ck-meta-value\">{{DATE}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Responsible</div>\n      <div class=\"ck-meta-value\">{{COOK}}</div>\n    </div>\n    <div class=\"ck-meta\">\n      <div class=\"ck-meta-label\">Status</div>\n      <div class=\"ck-meta-value\">\n        <span class=\"ck-status-pill\" data-status-key=\"{{STATUS_KEY}}\">{{DEFAULT(STATUS, \"—\")}}</span>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"ck-callouts\">\n    <div class=\"ck-callout ck-issues-card ck-issues--warn\" data-ck-issues-card>\n      <div class=\"ck-issues-header\">\n        <div class=\"ck-issues-title\">Issues</div>\n        <div class=\"ck-issues-status-icon\" data-ck-issues-icon aria-hidden=\"true\">⚠️</div>\n      </div>\n\n      <div class=\"ck-issues-empty\" data-ck-issues-empty>\n        <span aria-hidden=\"true\">✅</span>\n        <span>No issues</span>\n      </div>\n\n      <div class=\"ck-issues-row\" data-ck-issues-row>\n        <div class=\"ck-issues-subtitle\"><strong>Issues reported:</strong></div>\n        <div class=\"ck-issues-body\">\n          <span class=\"ck-issues-text\" data-ck-issues-text>{{DEFAULT(ISSUES, \"No issues\")}}</span>\n          <span class=\"ck-issues-sep\" data-ck-issues-sep aria-hidden=\"true\">|</span>\n          <span class=\"ck-issues-icon\" data-ck-issues-file-icon>{{FILES_ICON(ISSUES_EVD)}}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n    (function () {\n      try {\n        var card = document.querySelector('[data-ck-issues-card]');\n        if (!card) return;\n        if (card.getAttribute('data-ck-issues-init') === '1') return;\n        card.setAttribute('data-ck-issues-init', '1');\n\n        var normalize = function (s) {\n          return (s || '').toString().trim().toLowerCase().replace(/\\s+/g, ' ');\n        };\n        var isNoIssues = function (s) {\n          var t = normalize(s);\n          return t === '' || t === 'no issues' || t === 'no issue';\n        };\n\n        var textEl = card.querySelector('[data-ck-issues-text]');\n        var empty = isNoIssues(textEl ? textEl.textContent : '');\n\n        var row = card.querySelector('[data-ck-issues-row]');\n        if (row && empty) row.style.display = 'none';\n\n        var emptyBlock = card.querySelector('[data-ck-issues-empty]');\n        var statusIcon = card.querySelector('[data-ck-issues-icon]');\n        if (empty) {\n          if (emptyBlock) emptyBlock.style.display = 'flex';\n          if (statusIcon) statusIcon.textContent = '✅';\n          card.classList.add('ck-issues--ok');\n          card.classList.remove('ck-issues--warn');\n        } else {\n          if (emptyBlock) emptyBlock.style.display = 'none';\n          if (statusIcon) statusIcon.textContent = '⚠️';\n          card.classList.add('ck-issues--warn');\n          card.classList.remove('ck-issues--ok');\n        }\n\n        var hasIcon = function (el) {\n          if (!el) return false;\n          if (el.children && el.children.length) return true;\n          return normalize(el.textContent) !== '';\n        };\n        var fileIcon = card.querySelector('[data-ck-issues-file-icon]');\n        var sep = card.querySelector('[data-ck-issues-sep]');\n        if (sep) sep.style.display = !empty && hasIcon(fileIcon) ? 'inline' : 'none';\n      } catch (e) {\n        // ignore\n      }\n    })();\n  </script>\n\n  <hr class=\"ck-divider\" />\n\n  <div class=\"ck-section-title\">Checks</div>\n\n  <div class=\"ck-subtitle\">Deep clean</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{WK_FRIDGE}}</span>\n      <span class=\"ck-text\">Fridges (shelves, seals)</span>\n      <span class=\"ck-right\">{{FILES_ICON(WK_FRIDGE_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{WK_FREEZER}}</span>\n      <span class=\"ck-text\">Freezers (interior)</span>\n      <span class=\"ck-right\">{{FILES_ICON(WK_FREEZER_PH)}}</span>\n    </li>\n  </ul>\n\n  <div class=\"ck-subtitle\">Kitchen cleaning</div>\n  <ul class=\"ck-checklist\">\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{WK_BINS}}</span>\n      <span class=\"ck-text\">Clean & disinfect bins</span>\n      <span class=\"ck-right\">{{FILES_ICON(WK_BINS_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{WK_DRANIS}}</span>\n      <span class=\"ck-text\">Clean drains & sinks</span>\n      <span class=\"ck-right\">{{FILES_ICON(WK_DRANIS_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{WK_EQUIP}}</span>\n      <span class=\"ck-text\">Clean small equipment & storage</span>\n      <span class=\"ck-right\">{{FILES_ICON(WK_EQUIP_PH)}}</span>\n    </li>\n    <li class=\"ck-check\">\n      <span class=\"ck-mark\">{{WK_EXHAUST}}</span>\n      <span class=\"ck-text\">Exhaust hood filter and visible parts cleaned</span>\n      <span class=\"ck-right\">{{FILES_ICON(WK_EXHAUST_PH)}}</span>\n    </li>\n  </ul>\n</div>\n\n",
  "mp.ing_recipe.html": "<!--\n  Community Kitchen – Recipes (Summary HTML Template)\n\n  - Keep placeholders intact (e.g., {{FIELD_ID}}).\n  - Designed for in-app summary; minimal styles and one small script for tabs.\n-->\n\n<style>\n  .ck-summary-template {\n    color: #0f172a;\n    font-size: 0.94em;\n    margin: -8px;\n    font-weight: 400;\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-summary-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n    font-weight: inherit;\n  }\n\n  .ck-hero {\n    padding: 6px 0 10px;\n    border-bottom: 1px solid rgba(15, 23, 42, 0.12);\n  }\n\n  .ck-hero-title {\n    font-size: 1.2em;\n    margin: 0 0 6px 0;\n    line-height: 1.1;\n  }\n\n  .ck-meta-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px 18px;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n  .ck-meta-item {\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    column-gap: 8px;\n    align-items: baseline;\n    color: #0f172a;\n    width: 100%;\n  }\n\n  .ck-meta-label {\n    font-size: 0.75em;\n    letter-spacing: 0.01em;\n    color: rgba(15, 23, 42, 0.55);\n  }\n\n  .ck-meta-value {\n    font-size: 0.98em;\n  }\n\n  .ck-status-pill {\n    display: inline-flex;\n    align-items: center;\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid #cbd5e1;\n    background: #f8fafc;\n    color: #334155;\n    font-weight: 600;\n    font-size: 0.78em;\n    line-height: 1;\n    white-space: nowrap;\n  }\n  .ck-status-pill[data-status-key=\"onClose\"] {\n    border-color: #94a3b8;\n    background: #e2e8f0;\n    color: #334155;\n  }\n  .ck-status-pill[data-status-key=\"reOpened\"] {\n    border-color: #64748b;\n    background: #e5e7eb;\n    color: #1f2937;\n  }\n\n  .ck-tabs {\n    margin-top: 10px;\n  }\n\n  .ck-tab-list {\n    display: flex;\n    width: 100%;\n    gap: 8px;\n    margin: 0 0 10px 0;\n    padding: 4px 6px;\n    background: rgba(118, 118, 128, 0.06);\n    border-radius: 999px;\n  }\n\n  .ck-tab {\n    flex: 1 1 0;\n    border: 1px solid rgba(148, 163, 184, 0.35);\n    background: transparent;\n    border-radius: 999px;\n    padding: 8px 12px;\n    letter-spacing: 0.02em;\n    text-align: center;\n    cursor: pointer;\n    transition: all 0.15s ease;\n    color: #0f172a;\n  }\n\n  .ck-tab.is-active {\n    background: rgba(148, 163, 184, 0.18);\n    border-color: rgba(148, 163, 184, 0.55);\n  }\n\n  .ck-tab-panel {\n    display: none;\n  }\n\n  .ck-tab-panel.is-active {\n    display: block;\n  }\n\n  .ck-panel-card {\n    padding: 6px 0 0;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    border: none;\n    background: transparent;\n  }\n\n  .ck-panel-title {\n    font-size: 1em;\n    margin: 0;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-ingredients-table {\n    width: 100%;\n    table-layout: fixed;\n    border-collapse: collapse;\n    margin: 0;\n  }\n\n  .ck-ingredients-table col.ck-col-ingredient {\n    width: 50%;\n  }\n\n  .ck-ingredients-table col.ck-col-quantity {\n    width: 25%;\n  }\n\n  .ck-ingredients-table col.ck-col-allergens {\n    width: 25%;\n  }\n\n  .ck-ingredients-table th,\n  .ck-ingredients-table td {\n    text-align: left;\n    padding: 6px 4px;\n    border-bottom: 1px solid rgba(226, 232, 240, 0.9);\n    vertical-align: top;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-ingredients-table th {\n    font-size: 0.76em;\n    letter-spacing: 0.03em;\n    color: rgba(15, 23, 42, 0.65);\n  }\n\n  .ck-category-title {\n    margin: 12px 0 6px;\n    letter-spacing: 0.01em;\n    color: #0f172a;\n  }\n\n  .ck-ingredients-table caption.ck-category-title {\n    text-align: left;\n    padding: 12px 0 6px;\n    margin: 0;\n    caption-side: top;\n  }\n\n  .ck-instructions {\n    line-height: 1.35;\n    white-space: pre-wrap;\n    background: transparent;\n    border: none;\n    border-radius: 0;\n    padding: 6px 0 0;\n  }\n\n  @media (max-width: 540px) {\n    .ck-meta-list {\n      flex-direction: column;\n      gap: 6px;\n    }\n    .ck-tab-list {\n      display: flex;\n    }\n  }\n</style>\n\n<div class=\"ck-summary-template\" data-ck-template=\"mp.ing_recipe\">\n\n  <div class=\"ck-tabs\" data-ck-tabs>\n    <div class=\"ck-tab-list\" role=\"tablist\" aria-label=\"Recipe details\">\n      <button class=\"ck-tab is-active\" type=\"button\" role=\"tab\" aria-selected=\"true\" aria-controls=\"ck-tab-ingredients\" id=\"ck-tab-btn-ingredients\" data-tab-target=\"ingredients\">\n        Ingredients\n      </button>\n      <button class=\"ck-tab\" type=\"button\" role=\"tab\" aria-selected=\"false\" aria-controls=\"ck-tab-instructions\" id=\"ck-tab-btn-instructions\" data-tab-target=\"instructions\">\n        Instructions\n      </button>\n    </div>\n\n    <div class=\"ck-tab-panel is-active\" role=\"tabpanel\" aria-labelledby=\"ck-tab-btn-ingredients\" id=\"ck-tab-ingredients\" data-tab-panel=\"ingredients\">\n      <div class=\"ck-panel-card\">\n        <table class=\"ck-ingredients-table\" aria-label=\"Ingredients by category\">\n          <colgroup>\n            <col class=\"ck-col-ingredient\" />\n            <col class=\"ck-col-quantity\" />\n            <col class=\"ck-col-allergens\" data-ck-allergen-col />\n          </colgroup>\n          <thead>\n            <tr>\n              <th scope=\"col\">{{GROUP_TABLE(MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.CAT)}}{{ORDER_BY(MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.CAT ASC, MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.ING ASC)}}</th>\n              <th scope=\"col\">Quantity</th>\n              <th scope=\"col\" class=\"ck-allergen-header\" data-ck-allergen-col>Allergens</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>{{MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.ING}}</td>\n              <td>{{MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.QTY}} {{MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.UNIT}}</td>\n              <td data-ck-allergen-cell>{{DEFAULT(MP_MEALS_REQUEST.MP_TYPE_LI.MP_INGREDIENTS_LI.ALLERGEN, \"None\")}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <div class=\"ck-tab-panel\" role=\"tabpanel\" aria-labelledby=\"ck-tab-btn-instructions\" id=\"ck-tab-instructions\" data-tab-panel=\"instructions\" hidden>\n      <div class=\"ck-instructions\">{{DEFAULT(MP_MEALS_REQUEST.MP_TYPE_LI.RECIPE.REC_INST, \"No instructions provided.\")}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function () {\n    var root = document.querySelector('[data-ck-template=\"recipes\"]');\n    if (!root || root.getAttribute('data-ck-init') === '1') return;\n    root.setAttribute('data-ck-init', '1');\n\n    var tabs = root.querySelectorAll('[data-tab-target]');\n    var panels = root.querySelectorAll('[data-tab-panel]');\n    var activate = function (target) {\n      tabs.forEach(function (tab) {\n        var active = tab.getAttribute('data-tab-target') === target;\n        tab.classList.toggle('is-active', active);\n        tab.setAttribute('aria-selected', active ? 'true' : 'false');\n      });\n      panels.forEach(function (panel) {\n        var active = panel.getAttribute('data-tab-panel') === target;\n        panel.classList.toggle('is-active', active);\n        panel.hidden = !active;\n      });\n    };\n    tabs.forEach(function (tab) {\n      tab.addEventListener('click', function () {\n        activate(tab.getAttribute('data-tab-target'));\n      });\n    });\n\n  })();\n</script>\n",
  "procedure_cleaning_disinfection.html": "<!--\n  Community Kitchen – Cleaning & Disinfection Procedure (HTML Template)\n\n  Notes:\n  - This template is designed to be injected into the CK web app HTML preview overlay (not a standalone web page).\n  - Keep CSS scoped under `.ck-procedure-template` to avoid leaking styles into the host app.\n  - Keep formatting sober and mobile-friendly (no tables, colors, or cards).\n-->\n\n<style>\n  .ck-procedure-template {\n    /* Inherit app typography; keep styles scoped to avoid affecting the host app */\n    font-size: 0.98em;\n    line-height: 1.5;\n    margin: -8px;\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-procedure-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-procedure-page {\n    max-width: 980px;\n    margin: 0 auto;\n    padding: 16px 12px 28px;\n  }\n\n  .ck-procedure-template h1 {\n    font-size: 1.55em;\n    margin: 0 0 0.5em;\n    font-weight: 850;\n    line-height: 1.2;\n  }\n\n  .ck-procedure-template h2 {\n    font-size: 1.15em;\n    margin: 1.25em 0 0.5em;\n    font-weight: 850;\n    line-height: 1.25;\n  }\n\n  .ck-procedure-template h3 {\n    font-size: 1em;\n    margin: 0.9em 0 0.35em;\n    font-weight: 750;\n    line-height: 1.3;\n  }\n\n  .ck-procedure-template p {\n    margin: 0.5em 0;\n  }\n\n  .ck-procedure-template section {\n    margin: 0 0 1em;\n  }\n\n  .ck-procedure-template blockquote.ck-procedure-important {\n    margin: 0 0 1em;\n    padding: 0.25em 0 0.25em 1em;\n    border-left: 3px solid currentColor;\n    font-style: normal;\n  }\n\n  .ck-procedure-template blockquote.ck-procedure-important h2 {\n    margin-top: 0;\n    text-transform: uppercase;\n  }\n\n  .ck-procedure-template ul {\n    margin: 0.5em 0 0.5em 1.2em;\n    padding: 0;\n  }\n\n  .ck-procedure-template ol {\n    margin: 0.5em 0 0.5em 1.2em;\n    padding: 0;\n  }\n\n  .ck-procedure-template li {\n    margin: 0.35em 0;\n  }\n</style>\n\n<div class=\"ck-procedure-template\">\n  <main class=\"ck-procedure-page\">\n    <header>\n      <p>This procedure must be read by all employees of the Community Kitchen. It must be made available to volunteers involved in cleaning activities.</p>\n    </header>\n\n    <section>\n      <h2>Responsibility</h2>\n      <ul>\n        <li><strong>Cooks</strong> are responsible. Volunteers may help under supervision.</li>\n        <li>Third party service providers may participate in some specific activities.</li>\n        <li><strong>Kitchen Manager</strong> provides daily oversight.</li>\n        <li><strong>Operations Manager</strong> holds overall accountability.</li>\n      </ul>\n    </section>\n\n    <blockquote class=\"ck-procedure-important\">\n      <h2>IMPORTANT</h2>\n      <ul>\n        <li>Daily, weekly and monthly cleaning activities must be recorded in the <strong>Storage and Cleaning Checks</strong> app.</li>\n        <li>Daily cleaning is done after each shift, AM and PM.</li>\n        <li>Weekly and monthly cleaning follow the Cleaning Schedule. Any change to the person responsible for weekly or monthly cleaning must be requested and approved by the Kitchen Manager or Operations Manager.</li>\n        <li>If a cleaning activity could not be completed, inform the next shift and the Kitchen Manager or Operations Manager.</li>\n        <li>Immediately inform Kitchen Manager or Operations Manager when cleaning products, bin bags, tissues are running low and/or cleaning cloth or equipment needs to be repaired/replaced.</li>\n        <li>Any issue → record in the app and inform Kitchen Manager or Operations Manager immediately.</li>\n      </ul>\n    </blockquote>\n\n    <section>\n      <h2>General rules</h2>\n\n      <h3>Do</h3>\n      <ul>\n        <li>Wash hands before &amp; after cleaning.</li>\n        <li>Use only food-safe detergent / degreaser / disinfectant products.</li>\n        <li>Use clean water.</li>\n        <li>Respect product dosage and contact time.</li>\n        <li>Clean food areas first, floors &amp; bins last.</li>\n        <li>Clean → disinfect → rinse (if required).</li>\n        <li>Clean spills immediately.</li>\n        <li>Leave surfaces clean &amp; dry.</li>\n        <li>Wash dirty cloths, aprons and hats regularly.</li>\n      </ul>\n\n      <h3>Do not</h3>\n      <ul>\n        <li>Do not clean floors or bins before worktops.</li>\n        <li>Do not use non food-safe, personal, home-made or industrial products.</li>\n        <li>Do not reuse the same cloth for tables and floors.</li>\n        <li>Do not use dirty cloths, aprons or hats.</li>\n        <li>Do not leave cleaning products on worktops, portioning tables, near food/stove/utensils/fresh vegetables/dry goods.</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Daily AM &amp; PM shift</h2>\n\n      <h3>Do</h3>\n      <ul>\n        <li>Wash all used utensils &amp; containers (pots, pans, lids, boards, dish boxes, buckets, oven trays, rice cooker bowls).</li>\n        <li>Clean rice cooker exterior if splashed.</li>\n        <li>Cool leftovers → seal → label → fridge/freezer.</li>\n        <li>Remove expired or moldy products.</li>\n        <li>Check for signs of pests (insects, rodents).</li>\n        <li>Clean &amp; disinfect tables, sinks, stove, splashbacks.</li>\n        <li>Empty &amp; clean dishwasher.</li>\n        <li>Sweep &amp; mop floors.</li>\n        <li>Keep brooms clean.</li>\n        <li>Empty and clean mop buckets.</li>\n        <li>Keep cleaning room tidy.</li>\n        <li>Discard damaged equipment.</li>\n        <li>Empty and clean bins.</li>\n        <li>Replace bin liners.</li>\n        <li>Keep work clothes in designated closet.</li>\n        <li>Wash dirty cloths, aprons and hats used during shift.</li>\n        <li>Keep cleaning products in cleaning cupboard.</li>\n      </ul>\n\n      <h3>Do not</h3>\n      <ul>\n        <li>Do not assume previous shift cleaned enough.</li>\n        <li>Do not leave dirty equipment and cloths overnight.</li>\n        <li>Do not leave leftovers in the oven or anywhere in the kitchen.</li>\n        <li>Do not skip cleaning activities or pest checks at end of shift.</li>\n        <li>Do not leave bin without new bin bags.</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Weekly</h2>\n\n      <h3>Do</h3>\n      <ul>\n        <li>Deep clean plastic boards.</li>\n        <li>Clean fridge/freezer shelves &amp; handles.</li>\n        <li>Clean cupboards, doors, switches.</li>\n        <li>Deep clean ovens.</li>\n        <li>Clean exhaust hood filters and accessible surfaces.</li>\n        <li>Check pest monitoring points or traps if present.</li>\n      </ul>\n\n      <h3>Do not</h3>\n      <ul>\n        <li>Do not ignore damaged boards.</li>\n        <li>Do not ignore dirt or grease buildup.</li>\n        <li>Do not ignore pest signs or traps.</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Monthly</h2>\n\n      <h3>Do</h3>\n      <ul>\n        <li>Defrost &amp; deep clean freezers.</li>\n        <li>Clean pantry shelves.</li>\n        <li>Discard damaged boards.</li>\n        <li>Descale dishwasher.</li>\n        <li>Deep clean exhaust hood (including hard-to-reach areas).</li>\n      </ul>\n\n      <h3>Do not</h3>\n      <ul>\n        <li>Do not wait for heavy ice buildup.</li>\n        <li>Do not allow grease buildup in exhaust hood.</li>\n      </ul>\n    </section>\n  </main>\n</div>\n",
  "procedure_meal_production.html": "<!--\n  Community Kitchen – Meal Production Procedure (HTML Template)\n\n  Notes:\n  - This template is designed to be injected into the CK web app HTML preview overlay (not a standalone web page).\n  - Keep CSS scoped under `.ck-procedure-template` to avoid leaking styles into the host app.\n-->\n\n<style>\n  .ck-procedure-template {\n    /* Inherit app typography; keep styles scoped to avoid affecting the host app */\n    color: #0f172a;\n    font-size: 0.98em;\n    margin: -8px;\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n    --ck-proc-muted: rgba(15, 23, 42, 0.62);\n    --ck-proc-border: rgba(148, 163, 184, 0.55);\n  }\n\n  .ck-procedure-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-procedure-page {\n    max-width: 1100px;\n    margin: 0 auto;\n    padding: 18px 14px 32px;\n  }\n\n  .ck-procedure-template h1 {\n    font-size: 1.75em;\n    margin: 0 0 0.25em;\n    font-weight: 950;\n    letter-spacing: -0.02em;\n  }\n\n  .ck-procedure-template h2 {\n    font-size: 1.12em;\n    margin: 1.35em 0 0.6em;\n    font-weight: 900;\n  }\n\n  .ck-procedure-template h3 {\n    font-size: 0.86em;\n    margin: 1.05em 0 0.55em;\n    color: var(--ck-proc-muted);\n    text-transform: uppercase;\n    letter-spacing: 0.04em;\n    font-weight: 900;\n  }\n\n  .ck-procedure-template p {\n    margin: 0.55em 0;\n    line-height: 1.45;\n  }\n\n  .ck-procedure-template ul {\n    margin: 0.55em 0 0 1.1em;\n  }\n\n  .ck-procedure-template li {\n    margin: 0.35em 0;\n    line-height: 1.35;\n  }\n\n  .ck-procedure-meta {\n    color: var(--ck-proc-muted);\n    margin-bottom: 14px;\n    font-weight: 750;\n  }\n\n  .ck-procedure-card {\n    border: 1px solid var(--ck-proc-border);\n    border-radius: 12px;\n    padding: 14px;\n  }\n\n  .ck-procedure-grid2 {\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n\n  @media (min-width: 900px) {\n    .ck-procedure-grid2 {\n      grid-template-columns: 1fr 1fr;\n    }\n  }\n\n  .ck-procedure-template table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 10px;\n  }\n\n  .ck-procedure-template th,\n  .ck-procedure-template td {\n    border: 1px solid var(--ck-proc-border);\n    padding: 10px 12px;\n    vertical-align: top;\n    overflow-wrap: anywhere;\n    word-break: break-word;\n  }\n\n  .ck-procedure-template th {\n    background: rgba(148, 163, 184, 0.12);\n    text-align: left;\n  }\n\n  /* Process-flow layout: replace the 4-column table with a readable step-by-step card grid. */\n  .ck-procedure-template .ck-procedure-flow {\n    display: flex;\n    flex-direction: column;\n    gap: 14px;\n    margin-top: 12px;\n  }\n\n  .ck-procedure-template .ck-procedure-step {\n    border: 1px solid var(--ck-proc-border);\n    border-radius: 14px;\n    overflow: hidden;\n    background: #ffffff;\n    box-shadow: 0 1px 0 rgba(15, 23, 42, 0.05);\n  }\n\n  .ck-procedure-template .ck-procedure-step-head {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 14px 14px;\n    background: rgba(148, 163, 184, 0.10);\n    border-bottom: 1px solid var(--ck-proc-border);\n  }\n\n  .ck-procedure-template .ck-procedure-step-num {\n    width: 42px;\n    height: 42px;\n    border-radius: 999px;\n    background: #0f172a;\n    color: #ffffff;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 950;\n    letter-spacing: -0.01em;\n    flex: 0 0 auto;\n  }\n\n  .ck-procedure-template .ck-procedure-step-title {\n    font-size: 1.05em;\n    font-weight: 950;\n    letter-spacing: -0.01em;\n    margin: 0;\n  }\n\n  .ck-procedure-template .ck-procedure-step-grid {\n    display: grid;\n    grid-template-columns: 1fr;\n  }\n\n  @media (min-width: 900px) {\n    .ck-procedure-template .ck-procedure-step-grid {\n      grid-template-columns: 1fr 1fr 1fr;\n    }\n  }\n\n  .ck-procedure-template .ck-procedure-role {\n    padding: 14px 14px 16px;\n    border-top: 1px solid var(--ck-proc-border);\n  }\n\n  @media (min-width: 900px) {\n    .ck-procedure-template .ck-procedure-role {\n      border-top: 0;\n      border-left: 1px solid var(--ck-proc-border);\n    }\n    .ck-procedure-template .ck-procedure-role:first-child {\n      border-left: 0;\n    }\n  }\n\n  .ck-procedure-template .ck-procedure-role-title {\n    font-size: 0.82em;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n    color: var(--ck-proc-muted);\n    font-weight: 950;\n    margin: 0 0 8px;\n  }\n\n  .ck-procedure-template .ck-procedure-role ul {\n    margin: 0.35em 0 0;\n    padding: 0;\n    list-style: none;\n  }\n\n  .ck-procedure-template .ck-procedure-role li {\n    margin: 0.28em 0;\n    line-height: 1.35;\n    padding-left: 1.05em;\n    position: relative;\n  }\n\n  .ck-procedure-template .ck-procedure-role li::before {\n    content: '•';\n    position: absolute;\n    left: 0;\n    top: 0;\n    color: var(--ck-proc-muted);\n    font-weight: 900;\n  }\n\n  .ck-procedure-template .ck-procedure-role .ck-procedure-small {\n    margin-top: 0.55em;\n  }\n\n  .ck-procedure-small {\n    font-size: 0.88em;\n    color: var(--ck-proc-muted);\n    font-weight: 700;\n  }\n\n  .ck-procedure-template code {\n    font-family: inherit;\n    font-size: 0.95em;\n  }\n</style>\n\n<div class=\"ck-procedure-template\">\n  <main class=\"ck-procedure-page\">\n    <section>\n      <h2>Purpose and scope</h2>\n      <p>This procedure defines how meals are planned, produced, portioned, handed over and recorded. It must be read by all employees of the Community Kitchen and is available to volunteers for information.</p>\n    </section>\n\n    <section>\n      <h2>Responsibilities</h2>\n      <p>Cooks are responsible for executing meal production and for the accuracy of production data. Volunteers may assist with cutting vegetables, cooking, portioning, replenishing and cleaning, only under supervision and strictly following written recipes and instructions. Responsibility always remains with cooks. The Kitchen Manager provides operational oversight and validation. The Operations Manager holds overall accountability.</p>\n    </section>\n\n    <section>\n      <h2>Important to know</h2>\n      <ul>\n        <li>Only written and approved recipes recorded in the system may be used.</li>\n        <li>New recipes or recipe updates must be created or updated using the Recipe Form App by the Kitchen Manager or Operations Manager before they can be used in production.</li>\n        <li>Each production for a given customer, date and dietary category must be fully traceable to:\n          <ul>\n            <li>a cook responsible for the production,</li>\n            <li>a specific recipe with the actual list of ingredients and quantities used,</li>\n            <li>declared allergens,</li>\n            <li>recorded core temperature prior to portioning,</li>\n            <li>a system-generated batch number.</li>\n          </ul>\n        </li>\n        <li>All the above information must appear on the production report.</li>\n        <li>If the Meal Production App is not available, the production report must be created manually and the customer must be notified.</li>\n        <li>Selected recipes, ingredients and quantities must be followed unless ingredients are unavailable and substitutions are recorded.</li>\n        <li>Production must deliver exactly the number of portions requested per dietary category.</li>\n        <li>Avoid food waste and unnecessary leftovers; use leftovers first when suitable.</li>\n        <li>Apply the First In, First Out (FIFO) principle for ingredients and leftovers.</li>\n        <li>Volunteers are never autonomous; tasks must be demonstrated and supervised.</li>\n        <li>Separate utensils must be used for each dietary pot to prevent cross-contamination.</li>\n        <li>Production is complete only when all requested portions are delivered and the production report is sent.</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Meal production – process flow</h2>\n      <div class=\"ck-procedure-flow\" aria-label=\"Meal production process flow\">\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">1</div>\n            <div class=\"ck-procedure-step-title\">Before production</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Record requested portions per customer, date and dietary category.</li>\n                <li>Validate availability of approved recipes.</li>\n                <li>Create or update recipes using the Recipe Form App when needed.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Meal Production App (planning) / Recipe Form App (recipes)</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Assess ingredient availability.</li>\n                <li>Propose substitutions if needed and record them.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Meal Production App</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <ul>\n                <li>Cut fresh vegetables following instructions.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">2</div>\n            <div class=\"ck-procedure-step-title\">Cooking</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Provide operational support if needed.</li>\n                <li>Ensure only approved recipes are used.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Cook according to written recipes.</li>\n                <li>Supervise volunteers.</li>\n                <li>Record core temperature (photo) before portioning.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Meal Production App</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <ul>\n                <li>Assist with cooking under supervision and following written recipes.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">3</div>\n            <div class=\"ck-procedure-step-title\">Portioning</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Be available for escalation or support.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Prepare containers, labels and utensils.</li>\n                <li>Portion per customer and dietary category.</li>\n                <li>Record exact number of portions.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Meal Production App</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <ul>\n                <li>Assist with portioning after demonstration.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">4</div>\n            <div class=\"ck-procedure-step-title\">Handling leftovers</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Validate reuse or discard decisions if needed.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Label and date leftovers.</li>\n                <li>Store according to Storage Procedure.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <ul>\n                <li>Assist with leftovers handling under supervision.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">5</div>\n            <div class=\"ck-procedure-step-title\">Handover to customer</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Be available for issue resolution.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Deliver meals to drivers.</li>\n                <li>Verify completeness.</li>\n                <li>Send production report with batch number.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Meal Production App</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <p class=\"ck-procedure-small\">—</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">6</div>\n            <div class=\"ck-procedure-step-title\">Replenish for next shift</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Be notified if ingredients are missing or about to run out.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Replenish cut vegetables, spices and oil.</li>\n                <li>Notify Kitchen Manager or Operations Manager if ingredients are missing or about to run out.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <ul>\n                <li>Assist with replenishing under instructions.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"ck-procedure-step\">\n          <div class=\"ck-procedure-step-head\">\n            <div class=\"ck-procedure-step-num\">7</div>\n            <div class=\"ck-procedure-step-title\">Cleaning</div>\n          </div>\n          <div class=\"ck-procedure-step-grid\">\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Kitchen Manager / Operations Manager</div>\n              <ul>\n                <li>Ensure cleaning is completed and recorded.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">No app used</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Cook</div>\n              <ul>\n                <li>Clean kitchen, utensils and equipment.</li>\n                <li>Record cleaning checks.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Storage &amp; Cleaning Checks App</p>\n            </div>\n            <div class=\"ck-procedure-role\">\n              <div class=\"ck-procedure-role-title\">Volunteer (assist)</div>\n              <ul>\n                <li>Assist with cleaning under supervision.</li>\n              </ul>\n              <p class=\"ck-procedure-small\">App used: Storage &amp; Cleaning Checks App</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section>\n      <h2>DO / DO NOT</h2>\n      <div class=\"ck-procedure-grid2\">\n        <div class=\"ck-procedure-card\">\n          <h3>Do</h3>\n          <ul>\n            <li>Wash hands regularly with soap and before/after using phones or tablets.</li>\n            <li>Use designated handwash sinks for handwashing only.</li>\n            <li>Wear clean apron, head covering and clean shoes.</li>\n            <li>Minimise time food stays at room temperature.</li>\n            <li>Report illness immediately before handling food.</li>\n            <li>Report any signs of pests immediately.</li>\n            <li>Ensure production data is complete and traceable, including batch number.</li>\n            <li>Create a manual production report if the Meal Production App is unavailable and notify the customer.</li>\n          </ul>\n        </div>\n        <div class=\"ck-procedure-card\">\n          <h3>Do not</h3>\n          <ul>\n            <li>Use recipes that are not recorded and approved in the system.</li>\n            <li>Allow volunteers to work without supervision.</li>\n            <li>Use same utensils for different dietary pots.</li>\n            <li>Eat in kitchen or portioning area.</li>\n            <li>Handle food when sick or with uncovered wounds.</li>\n            <li>Wear jewellery while handling food.</li>\n            <li>Leave food at room temperature unnecessarily.</li>\n            <li>Leave production incomplete or unreported.</li>\n            <li>Leave kitchen dirty for next shift.</li>\n          </ul>\n        </div>\n      </div>\n    </section>\n  </main>\n</div>\n",
  "procedure_storage.html": "<!--\n  Community Kitchen – Storage Procedure (HTML Template)\n\n  Notes:\n  - This template is designed to be injected into the CK web app HTML preview overlay (not a standalone web page).\n  - Keep CSS scoped under `.ck-procedure-template` to avoid leaking styles into the host app.\n  - Keep formatting sober and mobile-friendly (no tables, colors, or cards).\n-->\n\n<style>\n  .ck-procedure-template {\n    /* Inherit app typography; keep styles scoped to avoid affecting the host app */\n    font-size: 0.98em;\n    line-height: 1.5;\n    margin: -8px;\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-procedure-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n  }\n\n  .ck-procedure-page {\n    max-width: 980px;\n    margin: 0 auto;\n    padding: 16px 12px 28px;\n  }\n\n  .ck-procedure-template h1 {\n    font-size: 1.55em;\n    margin: 0 0 0.5em;\n    font-weight: 850;\n    line-height: 1.2;\n  }\n\n  .ck-procedure-template h2 {\n    font-size: 1.15em;\n    margin: 1.25em 0 0.5em;\n    font-weight: 850;\n    line-height: 1.25;\n  }\n\n  .ck-procedure-template h3 {\n    font-size: 1em;\n    margin: 0.9em 0 0.35em;\n    font-weight: 750;\n    line-height: 1.3;\n  }\n\n  .ck-procedure-template p {\n    margin: 0.5em 0;\n  }\n\n  .ck-procedure-template section {\n    margin: 0 0 1em;\n  }\n\n  .ck-procedure-template blockquote.ck-procedure-important {\n    margin: 0 0 1em;\n    padding: 0.25em 0 0.25em 1em;\n    border-left: 3px solid currentColor;\n    font-style: normal;\n  }\n\n  .ck-procedure-template blockquote.ck-procedure-important h2 {\n    margin-top: 0;\n    text-transform: uppercase;\n  }\n\n  .ck-procedure-template ul {\n    margin: 0.5em 0 0.5em 1.2em;\n    padding: 0;\n  }\n\n  .ck-procedure-template ol {\n    margin: 0.5em 0 0.5em 1.2em;\n    padding: 0;\n  }\n\n  .ck-procedure-template li {\n    margin: 0.35em 0;\n  }\n</style>\n\n<div class=\"ck-procedure-template\">\n  <main class=\"ck-procedure-page\">\n    <header>\n      <p>This procedure must be read by all employees of the Community Kitchen. It must be made available to volunteers involved in cutting vegetables, meal preparation and/or receiving food deliveries for guidance.</p>\n    </header>\n\n    <section>\n      <h2>Responsibility</h2>\n      <ul>\n        <li><strong>Cooks</strong> are responsible. Volunteers may help under supervision.</li>\n        <li><strong>Kitchen Manager</strong> provides daily oversight.</li>\n        <li><strong>Operations Manager</strong> holds overall accountability.</li>\n      </ul>\n    </section>\n\n    <blockquote class=\"ck-procedure-important\">\n      <h2>IMPORTANT</h2>\n\n      <h3>1. General rules</h3>\n      <ul>\n        <li>All storage check activities must be performed at the beginning of AM and PM shifts and recorded in the <strong>Storage &amp; Cleaning Checks</strong> app.</li>\n        <li>Always apply <strong>First In, First Out (FIFO)</strong> for storage and utilization (older products stored in front or at the top for easy access and used first).</li>\n        <li>Immediately inform Kitchen Manager or Operations Manager when stock is running low.</li>\n        <li>Any issue → record in the app and inform Kitchen Manager or Operations Manager immediately.</li>\n      </ul>\n\n      <h3>2. Hygiene</h3>\n      <ul>\n        <li>Discard immediately: expired, undated, moldy, spoiled, pest-damaged, leaking or swollen items.</li>\n        <li>Label with sticker: leftovers, cut vegetables, opened dairy, opened jars/cans/bottles → product name + production date or opening date.</li>\n        <li>Keep shelves, seals, containers and crates clean and dry.</li>\n        <li>Check for pests (insects, droppings, gnaw marks). Any sign → record in app and inform Kitchen Manager or Operations Manager.</li>\n      </ul>\n\n      <h3>3. Temperature</h3>\n      <ul>\n        <li><strong>Fridges</strong>: 0–7 °C</li>\n        <li><strong>Freezers</strong>: ≤ –12 °C</li>\n        <li>If out of range: keep door closed, move food if needed, discard if unsure → record in app and inform Kitchen Manager or Operations Manager.</li>\n      </ul>\n    </blockquote>\n\n    <section>\n      <h2>Fridges</h2>\n\n      <h3>Allowed</h3>\n      <ul>\n        <li>Dairy products</li>\n        <li>Leftovers (sealed &amp; dated), max 48 hours</li>\n        <li>Cut vegetables (sealed &amp; dated), max 48 hours</li>\n        <li>Opened jars/bottles</li>\n        <li><strong>Eggs</strong> in original carton and stored in staff fridge only</li>\n      </ul>\n\n      <h3>Not allowed</h3>\n      <ul>\n        <li>Raw meat or raw fish</li>\n        <li>Hot or warm food</li>\n        <li>Unsealed and/or undated items</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Freezers</h2>\n\n      <h3>Allowed</h3>\n      <ul>\n        <li>Purchased frozen vegetables</li>\n        <li>Purchased frozen animal protein</li>\n        <li>Food cooked on site and frozen by staff</li>\n        <li>Cut vegetables frozen by staff</li>\n      </ul>\n\n      <h3>Not allowed</h3>\n      <ul>\n        <li>Hot or warm food</li>\n        <li>Partially thawed food</li>\n        <li>Damaged or leaking packaging</li>\n        <li>Unsealed and/or undated items</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Fresh vegetables areas</h2>\n\n      <h3>Allowed</h3>\n      <ul>\n        <li>Uncut in clean crates or containers or packaging</li>\n        <li>Off the floor</li>\n        <li>Kept dry</li>\n      </ul>\n\n      <h3>Not allowed</h3>\n      <ul>\n        <li>Directly on the floor</li>\n        <li>Under sinks or near cleaning products</li>\n        <li>Moldy, stale or spoiled vegetables</li>\n      </ul>\n    </section>\n\n    <section>\n      <h2>Dry good areas</h2>\n\n      <h3>Allowed</h3>\n      <ul>\n        <li>Unopened dry goods, e.g. rice, pasta, lentils</li>\n        <li>Unopened cans and jars</li>\n        <li>Unopened spices and condiments</li>\n      </ul>\n\n      <h3>Not allowed</h3>\n      <ul>\n        <li>Open bags without closing / sealing</li>\n        <li>Wet / damp packaging</li>\n        <li>Directly on the floor</li>\n        <li>Under sinks or near cleaning products</li>\n      </ul>\n    </section>\n  </main>\n</div>\n",
  "recipes.summary.html": "<!--\n  Community Kitchen – Recipes (Summary HTML Template)\n\n  - Keep placeholders intact (e.g., {{FIELD_ID}}).\n  - Designed for in-app summary; minimal styles and one small script for tabs.\n-->\n\n<style>\n  .ck-summary-template {\n    color: #0f172a;\n    font-size: 0.94em;\n    margin: -8px;\n    font-weight: 400;\n    font-family: var(--ck-font-family, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif);\n  }\n\n  .ck-summary-template * {\n    box-sizing: border-box;\n    max-width: 100%;\n    font-weight: inherit;\n  }\n\n  .ck-hero {\n    padding: 6px 0 10px;\n    border-bottom: 1px solid rgba(15, 23, 42, 0.12);\n  }\n\n  .ck-hero-title {\n    font-size: 1.2em;\n    margin: 0 0 6px 0;\n    line-height: 1.1;\n  }\n\n  .ck-meta-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px 18px;\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n  .ck-meta-item {\n    display: grid;\n    grid-template-columns: 1fr 3fr;\n    column-gap: 8px;\n    align-items: baseline;\n    color: #0f172a;\n    width: 100%;\n  }\n\n  .ck-meta-label {\n    font-size: 0.75em;\n    letter-spacing: 0.01em;\n    color: rgba(15, 23, 42, 0.55);\n  }\n\n  .ck-meta-value {\n    font-size: 0.98em;\n  }\n\n  .ck-status-pill {\n    display: inline-flex;\n    align-items: center;\n    padding: 4px 10px;\n    border-radius: 999px;\n    border: 1px solid #cbd5e1;\n    background: #f8fafc;\n    color: #334155;\n    font-weight: 600;\n    font-size: 0.78em;\n    line-height: 1;\n    white-space: nowrap;\n  }\n  .ck-status-pill[data-status-key=\"onClose\"] {\n    border-color: #94a3b8;\n    background: #e2e8f0;\n    color: #334155;\n  }\n  .ck-status-pill[data-status-key=\"reOpened\"] {\n    border-color: #64748b;\n    background: #e5e7eb;\n    color: #1f2937;\n  }\n\n  .ck-tabs {\n    margin-top: 10px;\n  }\n\n  .ck-tab-list {\n    display: flex;\n    width: 100%;\n    gap: 8px;\n    margin: 0 0 10px 0;\n    padding: 4px 6px;\n    background: rgba(118, 118, 128, 0.06);\n    border-radius: 999px;\n  }\n\n  .ck-tab {\n    flex: 1 1 0;\n    border: 1px solid rgba(148, 163, 184, 0.35);\n    background: transparent;\n    border-radius: 999px;\n    padding: 8px 12px;\n    letter-spacing: 0.02em;\n    text-align: center;\n    cursor: pointer;\n    transition: all 0.15s ease;\n    color: #0f172a;\n  }\n\n  .ck-tab.is-active {\n    background: rgba(148, 163, 184, 0.18);\n    border-color: rgba(148, 163, 184, 0.55);\n  }\n\n  .ck-tab-panel {\n    display: none;\n  }\n\n  .ck-tab-panel.is-active {\n    display: block;\n  }\n\n  .ck-panel-card {\n    padding: 6px 0 0;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    border: none;\n    background: transparent;\n  }\n\n  .ck-panel-title {\n    font-size: 1em;\n    margin: 0;\n    letter-spacing: 0.01em;\n  }\n\n  .ck-ingredients-table {\n    width: 100%;\n    table-layout: fixed;\n    border-collapse: collapse;\n    margin: 0;\n  }\n\n  .ck-ingredients-table col.ck-col-ingredient {\n    width: 50%;\n  }\n\n  .ck-ingredients-table col.ck-col-quantity {\n    width: 25%;\n  }\n\n  .ck-ingredients-table col.ck-col-allergens {\n    width: 25%;\n  }\n\n  .ck-ingredients-table th,\n  .ck-ingredients-table td {\n    text-align: left;\n    padding: 6px 4px;\n    border-bottom: 1px solid rgba(226, 232, 240, 0.9);\n    vertical-align: top;\n    overflow-wrap: anywhere;\n  }\n\n  .ck-ingredients-table th {\n    font-size: 0.76em;\n    letter-spacing: 0.03em;\n    color: rgba(15, 23, 42, 0.65);\n  }\n\n  .ck-category-title {\n    margin: 12px 0 6px;\n    letter-spacing: 0.01em;\n    color: #0f172a;\n  }\n\n  .ck-ingredients-table caption.ck-category-title {\n    text-align: left;\n    padding: 12px 0 6px;\n    margin: 0;\n    caption-side: top;\n  }\n\n  .ck-instructions {\n    line-height: 1.35;\n    white-space: pre-wrap;\n    background: transparent;\n    border: none;\n    border-radius: 0;\n    padding: 6px 0 0;\n  }\n\n  @media (max-width: 540px) {\n    .ck-meta-list {\n      flex-direction: column;\n      gap: 6px;\n    }\n    .ck-tab-list {\n      display: flex;\n    }\n  }\n</style>\n\n<div class=\"ck-summary-template\" data-ck-template=\"recipes\">\n  <div class=\"ck-hero\" role=\"banner\">\n    <ul class=\"ck-meta-list\">\n      <li class=\"ck-meta-item\">\n        <span class=\"ck-meta-label\">Recipe Name</span>\n        <span class=\"ck-meta-value\">{{QFTD5RD2EM}}</span>\n      </li>\n      <li class=\"ck-meta-item\">\n        <span class=\"ck-meta-label\">Dietary category</span>\n        <span class=\"ck-meta-value\">{{DISH_TYPE}}</span>\n      </li>\n      <li class=\"ck-meta-item\">\n        <span class=\"ck-meta-label\">Portions</span>\n        <span class=\"ck-meta-value\">{{NUM_PORTIONS}}</span>\n      </li>\n      <li class=\"ck-meta-item\">\n        <span class=\"ck-meta-label\">Status</span>\n      <span class=\"ck-meta-value\">\n        <span class=\"ck-status-pill\" data-status-key=\"{{STATUS_KEY}}\">{{DEFAULT(STATUS, \"—\")}}</span>\n      </span>\n      </li>\n    </ul>\n  </div>\n\n  <div class=\"ck-tabs\" data-ck-tabs>\n    <div class=\"ck-tab-list\" role=\"tablist\" aria-label=\"Recipe details\">\n      <button class=\"ck-tab is-active\" type=\"button\" role=\"tab\" aria-selected=\"true\" aria-controls=\"ck-tab-ingredients\" id=\"ck-tab-btn-ingredients\" data-tab-target=\"ingredients\">\n        Ingredients\n      </button>\n      <button class=\"ck-tab\" type=\"button\" role=\"tab\" aria-selected=\"false\" aria-controls=\"ck-tab-instructions\" id=\"ck-tab-btn-instructions\" data-tab-target=\"instructions\">\n        Instructions\n      </button>\n    </div>\n\n    <div class=\"ck-tab-panel is-active\" role=\"tabpanel\" aria-labelledby=\"ck-tab-btn-ingredients\" id=\"ck-tab-ingredients\" data-tab-panel=\"ingredients\">\n      <div class=\"ck-panel-card\">\n        <table class=\"ck-ingredients-table\" aria-label=\"Ingredients by category\">\n          <colgroup>\n            <col class=\"ck-col-ingredient\" />\n            <col class=\"ck-col-quantity\" />\n            <col class=\"ck-col-allergens\" data-ck-allergen-col />\n          </colgroup>\n          <thead>\n            <tr>\n              <th scope=\"col\">{{GROUP_TABLE(Q65ILNUSGL.CAT)}}{{ORDER_BY(Q65ILNUSGL.CAT ASC, Q65ILNUSGL.ING ASC)}}</th>\n              <th scope=\"col\">Quantity</th>\n              <th scope=\"col\" class=\"ck-allergen-header\" data-ck-allergen-col>Allergens</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>{{Q65ILNUSGL.ING}}</td>\n              <td>{{Q65ILNUSGL.QTY}} {{Q65ILNUSGL.UNIT}}</td>\n              <td data-ck-allergen-cell>{{DEFAULT(Q65ILNUSGL.ALLERGEN, \"None\")}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <div class=\"ck-tab-panel\" role=\"tabpanel\" aria-labelledby=\"ck-tab-btn-instructions\" id=\"ck-tab-instructions\" data-tab-panel=\"instructions\" hidden>\n      <div class=\"ck-instructions\">{{DEFAULT(REC_INST, \"No instructions provided.\")}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function () {\n    var root = document.querySelector('[data-ck-template=\"recipes\"]');\n    if (!root || root.getAttribute('data-ck-init') === '1') return;\n    root.setAttribute('data-ck-init', '1');\n\n    var tabs = root.querySelectorAll('[data-tab-target]');\n    var panels = root.querySelectorAll('[data-tab-panel]');\n    var activate = function (target) {\n      tabs.forEach(function (tab) {\n        var active = tab.getAttribute('data-tab-target') === target;\n        tab.classList.toggle('is-active', active);\n        tab.setAttribute('aria-selected', active ? 'true' : 'false');\n      });\n      panels.forEach(function (panel) {\n        var active = panel.getAttribute('data-tab-panel') === target;\n        panel.classList.toggle('is-active', active);\n        panel.hidden = !active;\n      });\n    };\n    tabs.forEach(function (tab) {\n      tab.addEventListener('click', function () {\n        activate(tab.getAttribute('data-tab-target'));\n      });\n    });\n\n  })();\n</script>\n"
};

export const getBundledHtmlTemplateRaw = (key: string): string | null => {
  const k = (key || '').toString().trim();
  if (!k) return null;
  const raw = (BUNDLED_HTML_TEMPLATES as any)[k];
  const text = raw === undefined || raw === null ? '' : raw.toString();
  return text.trim() ? text : null;
};

export const parseBundledHtmlTemplateId = (templateId: string): string | null => {
  const t = (templateId || '').toString().trim();
  if (!t) return null;
  const m = /^bundle:\s*(.+)$/i.exec(t);
  if (!m) return null;
  const key = (m[1] || '').toString().trim();
  return key || null;
};
